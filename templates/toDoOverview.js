import{renderEmptyToDoHtml}from"./emptyToDo";import{showToDoInput}from"./modal";function toggleActive(e,t,o){if(1==e.checked)o[t].status="checked",o.push(o.splice(t,1)[0]),localStorage.setItem("data",JSON.stringify(o)),renderToDoCard();else{o[t].status="";let e=o[t];o.splice(t,1),o.unshift(e),localStorage.setItem("data",JSON.stringify(o)),renderToDoCard()}}function deleteToDo(e,t){t.splice(e,1),localStorage.setItem("data",JSON.stringify(t)),renderToDoCard()}function renderToDoCard(){let e=JSON.parse(localStorage.getItem("data")),t=document.querySelector(".toDo_container");if(t.innerHTML="",null===e)renderEmptyToDoHtml();else{for(let o=0;o<e.length;o++)t.innerHTML+=generateToDoCardHtml(o,e[o].title,e[o].description,e[o].dueDate,e[o].priority,e[o].status);document.querySelectorAll('.toDo_card input[type="checkbox"]').forEach(((t,o)=>{t.addEventListener("change",(()=>{toggleActive(t,o,e)}))})),document.querySelectorAll(".trash_icon").forEach(((t,o)=>{t.addEventListener("click",(()=>{deleteToDo(o,e)}))}))}}function generateToDoCardHtml(e,t,o,r,a,n){return`\n        <div class="toDo_card ${a} ${n}">\n            <div class="card_content">\n                <div class="top_toDo_card">\n                    <input type="checkbox" id="status_card" value="checked" ${n}>\n                    <p class="dueDate_card">${r}</p>\n                </div>\n                <p class="title_card">${t}</p>\n                <p class="description_card">${o}</p>\n                <div class="bottom_toDo_card">\n                    <img class="trash_icon" src="./assets/trash.svg" alt="trash">\n                </div>\n            </div>\n        </div>\n    `}showToDoInput();export{renderToDoCard,toggleActive};